# Configuração do Cloudflare Worker - Verificador de Pagamentos
# Documentação: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "barberhub-verificar-pagamentos"
main = "index.ts"
compatibility_date = "2024-01-01"

# Cron Trigger - Executa a cada 5 minutos
[triggers]
crons = ["*/5 * * * *"]

# Variáveis de ambiente (configure via dashboard ou wrangler secret)
# wrangler secret put SUPABASE_URL
# wrangler secret put SUPABASE_SERVICE_KEY
# wrangler secret put MERCADO_PAGO_ACCESS_TOKEN

[vars]
ENVIRONMENT = "production"

# Rotas (opcional - se quiser expor endpoints HTTP)
# routes = [{ pattern = "pagamentos-worker.barberhub.online/*", zone_name = "barberhub.online" }]
